imports = [ "git.hooks" ]

[devshell]
name = "miniguest"

[[commands]]
package = "nixpkgs-fmt"
category = "formatters"

[[commands]]
package = "shfmt"
category = "formatters"

[[commands]]
package = "argbash"
category = "preprocessors"

[[commands]]
package = "shellcheck"
category = "linters"

[git.hooks]
enable = true
pre-commit.text = """
find -name '*.nix' | xargs -r nixpkgs-fmt --check || exit
find -name '*.bash' | xargs -r shfmt -d -s || exit
"""
